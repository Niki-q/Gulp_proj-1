function testWebP(t){var e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function changeScrOfIconBySprite(t,e){$use=$(t).children()[0],$use.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e)}testWebP((function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const $btn_switchable=$(".button_switchable");let icons={path:"svg/stack/",file:"icons.svg#"};src=icons.path+icons.file;const list_of_path_for_icons={"button-add-to-bag":{inactive:`${src}inactive_bag_icon`,activate:`${src}activated_bag_icon`},"button-add-to-favorites":{inactive:`${src}inactive_icon_favorites_`,activate:`${src}activated_icon_favorites_activated`}};$btn_switchable.on({click:t=>{for(element in $svg=$(t.target).children()[0],$(t.target).toggleClass("button_activated"),list_of_path_for_icons)$(t.target).hasClass(element)&&(category_class=element);$(t.target).hasClass("button_activated")?changeScrOfIconBySprite($svg,list_of_path_for_icons[category_class].activate):changeScrOfIconBySprite($svg,list_of_path_for_icons[category_class].inactive)},activate:t=>{console.log(1)}});const regex_phone=new RegExp(/^\+?1?\s*?\(?\d{3}(?:\)|[-|\s])?\s*?\d{3}[-|\s]?\d{4}$/),regexlist={tel:new RegExp(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i),email:new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/),text:new RegExp(/./)};let spritepath="svg/stack/";const activateclass="text-field_activated",errorclass="text-field_error",cleanclass="text-field_potential-clean",inactiveclass="text-field_inactive",promoclass="text-field-small_promo",pathiconlist={"text-field_activated":`${spritepath}icons.svg#outline-check-24pxcheck`,"text-field_error":`${spritepath}icons.svg#outline-close-24pxcross`,"text-field_potential-clean":`${spritepath}icons.svg#outline-check-24pxclose`,"text-field_inactive":"","text-field-small_promo":`${spritepath}icons.svg#inactivepromo`},$tf_ordinary=$(".input.text-field-ordinary__input"),getInputNodes=t=>{const e={};return e.$input=t,e.$parent=$(t).parent()[0],e.value=$(t).val(),e.$icon=$(t).parent()[0].lastElementChild,e};function getActivate(t){regexlist[$(t.$input).prop("type")].test(t.value)&&($(t.$parent).removeClass(inactiveclass),$(t.$parent).removeClass(errorclass),changeScrOfIconBySprite(t.$icon,pathiconlist[activateclass]),$(t.$parent).addClass(activateclass),t.$icon.style.animationPlayState="running")}function getError(t){regexlist[$(t.$input).prop("type")].test(t.value)||($(t.$parent).removeClass(inactiveclass),$(t.$parent).removeClass(activateclass),$(t.$parent).addClass(errorclass),changeScrOfIconBySprite(t.$icon,pathiconlist[errorclass]),t.$icon.style.animationPlayState="running")}function getClean(t){$(t.$parent).removeClass(inactiveclass),changeScrOfIconBySprite(t.$icon,pathiconlist[cleanclass]),$(t.$parent).addClass(cleanclass),t.$icon.style.animationPlayState="running"}function removeClean(t){$(t.$parent).removeClass(cleanclass),$(t.$parent).addClass(inactiveclass)}const hardCheck=t=>{getActivate(t),getError(t)},uncheck=t=>{$(t.$parent).removeClass(activateclass),$(t.$parent).removeClass(errorclass),$(t.$parent).removeClass(cleanclass),$(t.$parent).addClass(inactiveclass)};$tf_ordinary.on({focus:t=>{const e=getInputNodes(t.target);$(e.$input).css({margin:"11px 0 0"})},blur:t=>{const e=getInputNodes(t.target);0===e.value.length?($(e.$input).css({margin:"0 0"}),uncheck(e)):hardCheck(e)},keyup:t=>{const e=getInputNodes(t.target);$(e.$parent).hasClass(errorclass)&&getActivate(e)}});const $tf_small=$(".input.text-field-small__input");$tf_small.on({blur:t=>{const e=getInputNodes(t.target);removeClean(e),""===e.value?uncheck(e):getError(e)},focus:t=>{const e=getInputNodes(t.target);""!==e.value&&getClean(e),$tf_small.on({keyup:t=>{const e=getInputNodes(t.target);let a=0;""===e.value&&0===a?(removeClean(e),a++):($(e.$parent).hasClass(cleanclass)||0!==a||getClean(e),$($tf_small).next().next().on({click:t=>{const e=getInputNodes($(t.target).prev().prev());$(e.$input).val(""),removeClean(e),e.$input.blur().focus()}}))}})}});const $tags_items=$(".button-tags__item");$tags_items.on({click:t=>{$btn=$(t.target).parent().prev()[0],console.log($btn),$btn.innerText=t.target.innerText,$btn.style="width:fit-content",$($btn).removeClass("button-tags_unselected")}});